# 上手指引：安装并运行WeCube

您需要拥有一个可以正常使用的腾讯云用户账号，记录好该用户的账号Id，并且准备好在安装过程中需要使用的API访问密钥。

!!! info "提示"
    请注意，WeCube的安装过程需要在腾讯云上创建按量付费使用的云资源，因此，根据腾讯云的要求，您的账号中需要有一定的余额才能正常进行安装过程。

## 在腾讯云上安装和启动WeCube

!!! note ""
    关于安装WeCube，请参见文档 “[在公有云上以单机模式安装WeCube](standalone-mode-on-public-cloud.md)”。

## 确认WeCube使用的云资源

WeCube的部署完成后，您可以登录腾讯云控制台确认本次部署中创建并使用的云资源情况：

在“云服务器”产品下，您可以在华南地区找到名称为“`instance_wecube_platform`”的云服务器实例，它运行了单机部署方案下所有WeCube平台服务和插件服务。您可以根据需要自行对实例进行资源和配置的调整、重置密码、销毁释放等管理操作。在当前WeCube的版本条件下，我们建议保留至少 **4核CPU的计算资源** 和 **16GB的内存资源**，以满足正常运行的需要。

在“私有网络”产品下，您可以在华南地区找到名称为“GZ_MGMT”的私有网络，其中包含一个名称为“`GZP4_MGMT_MT_APP`”的子网，WeCube运行使用的云服务器实例“`instance_wecube_platform`”就包含在这个子网之中。请记录好这个私有网络（`GZ_MGMT`）的Id、其中唯一一个子网（`GZP4_MGMT_MT_APP`）的Id以及其中唯一一个路由表的Id，这些信息都需要被补充到将要搭建的数据中心的配置中。

## 安装后配置

1. 补充腾讯云用户账号信息

    为了使WeCube能够正确连接到腾讯云并通过API进行数据中心资源的管理，请通过WeCube菜单项 “**设计**” - “**CI数据管理**” 进入CI数据管理页面，点击数据模型图中的 “**数据中心**” 进入数据中心配置信息管理页面。

    编辑其中唯一名称为 “`GZP`”（对用腾讯云华南地区）、“`GZP3`”（对应腾讯云华南地区的广州3可用区）、“`GZP4`”（对应腾讯云华南地区的广州4可用区） 的3条数据中心记录，更改 “**用户ID**” 属性为将要使用的腾讯云用户账号Id，更改 “**认证参数**” 并填入该用户账号的API访问密钥（分别填入Secret Id和Secret Key）。

    这样，我们就将腾讯云用户账号信息关联到将要搭建的数据中心上，以便WeCube使用它们进行资源的创建和删除等操作。

1. 补充WeCube平台的网络资源信息

    为了使WeCube能够正常连接到将要搭建的数据中心网络以完成应用部署、监控和其它运维操作，请通过WeCube菜单项 “**设计**” - “**CI数据管理**” 进入CI数据管理页面。

    点击数据模型图中的 “**网络区域**” 进入网络区域配置信息管理页面，编辑其中唯一名称为 “`GZP_MGMT`”（对应部署WeCube的私有网络） 的数据记录，更改 “**VPC资产编码**” 属性为腾讯云控制台中名称显示为 “`GZ_MGMT`” 的私有网络的Id（以`vpc`开头），更改 “**路由表资产编码**” 属性为腾讯云控制台中名称显示为“`GZ_MGMT`”的私有网络中的唯一一个路由表的Id（以`rtb`开头）。

    返回数据模型图，点击 “**资源集合**” 进入资源集合配置信息管理界面，编辑其中唯一名称为 “`GZP2_MGMT_MT_APP`”（对应部署WeCube的子网，将把它作为数据中心中管理网络区域的子网） 的数据记录，更改 “**子网资产编码**” 属性为腾讯云控制台中名称显示为 “`GZP4_MGMT_MT_APP`” 的子网的Id（以`subnet`开头）。

    !!! note "关于“资产编码”"
        在我们的数据模型中，名称以 “**资产编码**” 为结尾的数据属性是用来关联在云平台上创建出来的真实存在的资源，具体的属性值基本上则是由在云平台上创建资源时生成并回填。在上面的例子中，“**VPC资产编码**” 实际上存储了与网络区域相对应的腾讯云上的私有网络的Id，而 “**子网资产编码**” 则是存储了腾讯云上的子网的Id，对于 “**路由表资产编码**” 也是同样的道理。

    这样，我们就将WeCube部署时创建的网络资源关联到将要创建的数据中心，并把它纳入到数据中心的管理网络区域之中，以便WeCube能够正常进行网络访问从而完成之后的各项操作。

